<meta charset="UTF-8">
<br>
<br>
<div class="generic-container"
	ng-controller="chamadoManutencaoController as chamadoCtr">

	<div class="box box-primary" ng-init="chamadoCtr.listaSuporte()">
	
		<div class="box-header">
			<span class="lead">Lista de Chamados Manutenção</span>
		</div>
		<div class="panel-body">		
			<table class="table table-hover table-bordered">
				<thead>
					<tr>
						<th>
							<input class="form-control" type="text" ng-model="buscaCoordenadoria" placeholder="Titulo">
				  		</th>
				  		
						<th>
							<div ng-controller="usuarioController as userCtrl" ng-init="userCtrl.lista()" >
								<select class="form-control" ng-model="buscaCoordenadoria" 
								ng-options="usuario.nome for usuario in userCtrl.usuarios" 
								  style=" width: 100%;" required >
									<option value="">Solicitante</option>
								</select>
							</div>	
						</th>
						
						<th>						
						<div ng-controller="setorController as setorCtrl" ng-init="setorCtrl.lista()" >
								<select class="form-control" ng-model="buscaCoordenadoria" 
								ng-options="setores.nome group by setores.tipoSetor.mnemonico for setores in setorCtrl.listaSetor" 
								  style=" width: 100%;" required >
									<option value="">Setor</option>
								</select>
							</div>								
						</th>
						
						<th>
							<div  ng-init="chamadoCtr.status()" >
								<select class="form-control" ng-model="buscaCoordenadoria" 
								ng-options="status for status in chamadoCtr.listaStatus" 
								  style=" width: 100%;" required >
									<option value="">Status</option>
								</select>
							</div>	
						</th>
						
						<th>Data de abertura</th>
							
						<th>Horário</th>					
						<th>Opções</th>
					</tr>
				</thead>
				<tbody
					ng-repeat=" chamado in chamadoCtr.listaChamadoManutencaoSuporte | filter : buscaCoordenadoria | orderBy : '-id'  ">
					<tr>
						<td>{{ chamado.titulo }}</td>
						<td>{{ chamado.usuarioSolicitante.nome }}</td>
						<td>{{ chamado.setor.nome }}</td>	
						<td>{{ chamado.status }}</td>	
						<td>{{ chamado.dataAbertura.dayOfMonth }}/{{ chamado.dataAbertura.monthValue }}/{{ chamado.dataAbertura.year }}</td>
						<td>{{ chamado.dataAbertura.hour }} : {{ chamado.dataAbertura.minute }} : {{ chamado.dataAbertura.second }}</td>										
						<td><a href="#/chamado/manutencao/suporte/atendimento/{{chamado.id}}"><i class="glyphicon glyphicon-pencil"></i></a> 
						
				</tr>
				</tbody>
				<tfoot>
				</tfoot>
			</table>
		</div>
	</div>
</div>

